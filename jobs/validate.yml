steps:
  - checkout: self
    persistCredentials: true
  - task: Bash@3
    displayName: 'set main branch'
    inputs:
      targetType: 'inline'
      script: |
        git config --global user.email "duc.nguyen@bizone.com.vn"
        git config --global user.name "ducnguyen452021"
        git checkout -b develop origin/develop
        git merge origin/$(feature_branch)
        git add -A
        git commit -m 'build_release_commit'
        git push origin develop
  - script: sbt clean
    displayName: 'Running $ sbt clean'
      #- script: sbt coverage test coverageReport
      #  displayName: 'Running $ scan line of code function coverageReport'
  - script: sbt test compile assembly
    displayName: 'Run $ sbt test compile assembly'